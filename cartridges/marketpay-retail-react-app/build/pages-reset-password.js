"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[215],{38919(e,s,a){a.d(s,{A:()=>o});var r=a(34692),t=a(45589);function o({form:{control:e,formState:{errors:s},getValues:a},prefix:o=""}){const{formatMessage:d}=(0,r.A)();return{currentPassword:{name:`${o}currentPassword`,label:d({defaultMessage:[{type:0,value:"Current Password"}],id:"use_update_password_fields.label.current_password"}),defaultValue:"",type:"password",autoComplete:"current-password",rules:{required:d({defaultMessage:[{type:0,value:"Please enter your password."}],id:"use_update_password_fields.error.required_password"})},error:s[`${o}currentPassword`],control:e},password:{name:`${o}password`,label:d({defaultMessage:[{type:0,value:"New Password"}],id:"use_update_password_fields.label.new_password"}),type:"password",autoComplete:"new-password",defaultValue:"",rules:{required:d({defaultMessage:[{type:0,value:"Please provide a new password."}],id:"use_update_password_fields.error.required_new_password"}),validate:{hasMinChars:e=>(0,t.O)(e).hasMinChars||d({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_update_password_fields.error.minimum_characters"}),hasUppercase:e=>(0,t.O)(e).hasUppercase||d({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_update_password_fields.error.uppercase_letter"}),hasLowercase:e=>(0,t.O)(e).hasLowercase||d({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_update_password_fields.error.lowercase_letter"}),hasNumber:e=>(0,t.O)(e).hasNumber||d({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_update_password_fields.error.contain_number"}),hasSpecialChar:e=>(0,t.O)(e).hasSpecialChar||d({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_update_password_fields.error.special_character"})}},error:s[`${o}password`],control:e},confirmPassword:{name:`${o}confirmPassword`,label:d({defaultMessage:[{type:0,value:"Confirm New Password"}],id:"use_update_password_fields.label.confirm_new_password"}),type:"password",autoComplete:"new-password",defaultValue:"",rules:{required:d({defaultMessage:[{type:0,value:"Please confirm your password."}],id:"use_update_password_fields.error.required_confirm_password"}),validate:{matches:e=>e===a(`${o}password`)||d({defaultMessage:[{type:0,value:"Passwords do not match."}],id:"use_update_password_fields.error.password_mismatch"})}},error:s[`${o}confirmPassword`],control:e}}}},75290(e,s,a){a.r(s),a.d(s,{default:()=>B});var r=a(28407),t=a(77810),o=a(34692),d=a(41863),l=a(75826),n=a.n(l),p=a(62539),i=a(91311),u=a(79237),c=a(49785),m=a(41375),w=a(58410),_=a(64965),f=a(92519),g=a(27821),h=a(85771),y=a(95266),v=a(35490),E=a(63560),b=a(93613),P=a(38919),A=a(28706),M=a(7711),S=a(73448);const C=()=>{var e;const s=(0,c.mN)(),{formatMessage:a}=(0,o.A)(),{search:l}=(0,_.zy)(),n=(0,M.A)(),p=new URLSearchParams(l),i=decodeURIComponent(p.get("email")),m=decodeURIComponent(p.get("token")),w=(0,P.A)({form:s}),C=s.watch("password"),{resetPassword:L}=(0,A.e)(),R=function(){var e=(0,r.A)(function*(e){s.clearErrors();try{yield L({email:i,token:m,newPassword:e.password}),n("/login")}catch(e){var r;const t=yield null===(r=e.response)||void 0===r?void 0:r.json(),o=S.Fn.test(t.message)?a(S.jk):a(S.gS);s.setError("global",{type:"manual",message:o})}});return function(s){return e.apply(this,arguments)}}();return t.createElement(f.B,{justify:"center",align:"center",spacing:6},t.createElement(v.FQ,{width:"60px",height:"auto"}),t.createElement(f.B,{spacing:2},t.createElement(g.E,{align:"center",fontSize:"xl",fontWeight:"semibold"},t.createElement(d.A,{defaultMessage:[{type:0,value:"Reset Password"}],id:"reset_password_form.title.reset_password"}))),t.createElement(u.m,{variant:"form"},t.createElement("form",{onSubmit:s.handleSubmit(R)},t.createElement(f.B,{spacing:6,paddingLeft:4,paddingRight:4},(null===(e=s.formState.errors)||void 0===e?void 0:e.global)&&t.createElement(h.F,{"data-testid":"password-update-error",status:"error"},t.createElement(v._0,{color:"red.500",boxSize:4}),t.createElement(g.E,{fontSize:"sm",ml:3},s.formState.errors.global.message)),t.createElement(f.B,{spacing:3,pb:2},t.createElement(E.A,w.password),t.createElement(E.A,w.confirmPassword),t.createElement(b.A,{value:C})),t.createElement(y.$,{type:"submit",isLoading:s.formState.isSubmitting},t.createElement(d.A,{defaultMessage:[{type:0,value:"Reset Password"}],id:"reset_password_form.button.reset_password"}))))))};C.getTemplateName=()=>"reset-password-landing",C.propTypes={token:n().string};const L=C;var R=a(65376),N=a(17492);const O=()=>{const{formatMessage:e}=(0,o.A)(),s=(0,c.mN)(),a=(0,M.A)(),l=(0,R.A)(),n=(0,N.A)(),{pathname:f}=(0,_.zy)(),{path:g}=(0,_.W5)(),{getPasswordResetToken:h}=(0,A.e)(),y=function(){var a=(0,r.A)(function*({email:a}){try{yield h(a)}catch(a){var r;const t=400===(null===(r=a.response)||void 0===r?void 0:r.status)?e(S.vn):e(S.gS);s.setError("global",{type:"manual",message:t})}});return function(e){return a.apply(this,arguments)}}();return(0,t.useEffect)(()=>{l.sendViewPage(f),n.sendViewPage(f)},[]),t.createElement(p.az,{"data-testid":"reset-password-page",bg:"gray.50",py:[8,16]},t.createElement(i.D,{as:"h1",srOnly:!0},t.createElement(d.A,{defaultMessage:[{type:0,value:"Reset Password"}],id:"reset_password.title.reset_password"})),t.createElement(m.A,{title:"Reset password",description:"Reset customer password"}),t.createElement(u.m,{paddingTop:16,width:["100%","407px"],bg:"white",paddingBottom:14,marginTop:8,marginBottom:8,borderRadius:"base"},g===S.Qo?t.createElement(L,null):t.createElement(w.A,{form:s,submitForm:y,clickSignIn:()=>a("/login")})))};O.getTemplateName=()=>"reset-password",O.propTypes={match:n().object};const B=O}}]);